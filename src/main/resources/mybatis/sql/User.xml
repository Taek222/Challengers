<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.ord//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.challengers.mvc.repository.UserRepository">

    <select id="getList" parameterType="kr.co.challengers.mvc.domain.User" resultType="kr.co.challengers.mvc.domain.User">
        SELECT
                USER_ID
                , DOMAIN
                , USER_NM
                , PASSWORD
                , LEVEL_OPEN
                , CELL
                , DEL_YN
                , CRE_DT
                , REG_USER
                , MOD_DT
                , MOD_USER
        FROM    TB_USER_MGMT
    </select>

    <select id="get" parameterType="String" resultType="kr.co.challengers.mvc.domain.User">
        SELECT
        USER_ID
        , DOMAIN
        , USER_NM
        , PASSWORD
        , LEVEL_OPEN
        , CELL
        , DEL_YN
        , CRE_DT
        , REG_USER
        , MOD_DT
        , MOD_USER
        FROM    TB_USER_MGMT
        WHERE   USER_ID = #{userId}
    </select>

    <insert id="save" parameterType="kr.co.challengers.mvc.domain.User">
        INSERT INTO TB_USER_MGMT
        (
            USER_ID
            , DOMAIN
            , USER_NM
            , PASSWORD
            , LEVEL_OPEN
            , CELL
            , DEL_YN
            , CRE_DT
            , REG_USER
            , MOD_DT
            , MOD_USER
        ) VALUES
        (
            #{userId}
            , #{domain}
            , #{userNm}
            , #{password}
            , #{levelOpen}
            , #{cell}
            , 'N'
            , NOW()
            , #{userId}
            , NOW()
            , #{userId}
        )
    </insert>

    <update id="delete" parameterType="String">
        UPDATE  TB_USER_MGMT
        SET     DEL_YN = 'Y'
                , MOD_DT = SYSDATE
                , MOD_USER = #{userId}
        WHERE   USER_ID = #{userId}
    </update>
</mapper>